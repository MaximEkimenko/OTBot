---
title: OTBot readme
created: 30.05.2025
modified: 30.05.2025
---
- Клонировать проект:
```bash
git clone <project link>
```

- Скопировать на сервер (заполнить самостоятельно ) `.env` файл с переменными окружения, например:
```text
DB_NAME=otbot.db
BOT_TOKEN=1241555657:AFASWz0lUfUrllP89gTPuorzH-JhBiylKmU
SUPER_USER_TG_ID=1234567890
```

- Установить uv на сервер.
- Установить виртуальное окружение с зависимостями:
```bash
uv sync
```

- создать папку `violations` в корне проекта
```bash
mkdir violations
```

- установить миграции:
```
alembic revision --autogenerate
alembic upgrade head
```

- далее можно запускать напрямую на сервере:
```bash
python3 main.py
```

## Запуск в `docker`
- выполняется только после всех предыдущих пунктов;
- сборка образа:
```bash
docker build -t otbot .
```
- запуск контейнера
```bash
docker run -d -v "$(pwd)/bot.db:/app/bot.db" -v "$(pwd)/violations:/app/violations" -v "$(pwd)/logs:/app/logs" --name otbot-ins otbot
```
- команды управления 
```bash
docker ps -a  # Все контейнеры
docker logs otbot-instance  # Посмотреть логи 
docker stop otbot-instance # Остановить контейнер
docker rm otbot-instance # Удалить контейнер
```

## Окончательная настройка
- После запуска бота:
    - Выполните настройки клавиатур передачей соответствующих excel таблиц (смотри инструкцию по использованию).
    - Зарегистрируйте пользователей и назначьте роли ответственных (смотри инструкцию по использованию).
    - Создайте места нарушения с помощью команд бота (смотри инструкцию по использованию).
- получить инструкцию пользователя можно командой бота:  `/instruction` или найти ссылку в команде `/help` или в папке проекта`/bot/docs`

## Примечания 
- Одобрять пользователей могут только супер пользователи (администраторы бота).  Поменять или добавить список супер пользователей можно в файле `constants.py` (переменная: `SUPER_USERS_TG_ID`).

[[OTBot]]
